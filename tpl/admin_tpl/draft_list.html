<!DOCTYPE html>
<html>
  <head>
    <title>后台系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- styles -->
    <link href="/css/styles.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
  <style type="text/css">
	  .template{
		  display: none;}
	  .sc .template{display: block}
	  .subgrouop label{ font-weight: normal; color: #999}
  </style>
  <div class="form-group template t_input">
	  <label class="col-md-2 control-label" for="text-field"></label>
	  <div class="col-md-6">
		  <input class="form-control" placeholder="" type="text">
	  </div>
  </div>

  <div class="form-group template t_select">
	  <label class="col-md-2 control-label" for="text-field"></label>
	  <div class="col-md-6">
		  <input class="form-control" placeholder="" type="text">
	  </div>
  </div>




 <div class="page-content">
    	<div class="row">
		  <div class="col-md-8">
			  <div class="content-box-large">
				  <div class="panel-heading">
					  <div class="panel-title">配件草稿</div>
				  </div>
				  <div class="panel-body">
					  <div class="form-horizontal" action="">
						  <fieldset class="template sc">
							  <div class="wrap" data-attr="func:id:todata">
							  <legend>&nbsp;</legend>

								  <div class="form-group template t_select">
									  <label class="col-md-2 control-label" for="text-field">颜色</label>
									  <div class=" subgrouop col-md-6 ">

										  <label class="col-md-2 control-label" >编号</label>
									  <div class="col-md-2">
										  <input class="form-control" placeholder="" type="text">
									  </div>
										  <label class="col-md-2 control-label" >属性</label>
										  <div class="col-md-2">
											  <input class="form-control" placeholder="" type="text">
										  </div>
										  <label class="col-md-2 control-label" >价格</label>
										  <div class="col-md-2">
											  <input class="form-control" placeholder="" type="text">
										  </div>
									  </div>
								  </div>




							  </div>

						  </fieldset>
						  <div class="clist">
						  </div>





						  <div class="form-actions">
							  <div class="row">
								  <div class="col-md-12">
									  <button class="btn btn-default" type="submit">
										  Cancel
									  </button>
									  <button class="btn btn-primary" type="submit">
										  <i class="fa fa-save"></i>
										  Submit
									  </button>
								  </div>
							  </div>
						  </div>

					  </div>
				  </div>
			  </div>
			  </div>
		  </div>
		</div>
    </div>

    <footer>
         <div class="container">
         
            <!--<div class="copy text-center">-->
               <!--Copyright 2014 <a href='#'>Website</a>-->
            <!--</div>-->
            
         </div>
      </footer>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/custom.js"></script>
    <script src="/js/lib.js"></script>

  <script>

	  function todata(a,b,c) {
          a.attr("data-id",b)
          console.log(b)
		  for(k in c){
              delete c["id"];
			if(c[k] instanceof Array){

			}
			else if(typeof(c[k]) == "object"){

			}
			else{
				console.log(c[k])
			    var t = $(".t_input").clone();
				t.find(".control-label").html(k)
                t.find(".form-control").attr("value",c[k])

				t.removeClass("t_input")
			    a.append(t)

			}


		  }
      }

		var list=[];
	  $(function () {
		  $.getJSON("getList",{},function (res) {
		      var data = res.data;
			for(var i=0;i<data.length;i++){
			    list[i]=JSON.parse(data[i]['content'])
				list[i]['id']=data[i]['id']
			}
			console.log(list)
			$.tolist($(".clist"),$(".sc"),list)
		  })
      })

  </script>
  </body>
</html>